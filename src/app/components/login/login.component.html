<div class="background">
</div>
<tatami-loader *ngIf="loading"></tatami-loader>
<div class="tatami-title anim-fade-in">TATAMI</div>
<div class="row tatami-login">
    <ng-container *ngIf="!isRegistration">
        <div class="blue-background">
            <div class="anim-fade-in delay-1">
                <div class="left-login"> {{t('ipAddress')}}</div>
                <div class="right-login">
                    <tatami-input [myInputClasses]="'login-input'" [(value)]="ipAddress"></tatami-input>
                </div>
            </div>
            <div class="anim-fade-in delay-2">
                <div class="left-login"> {{t('username')}}</div>
                <div class="right-login">
                    <tatami-input [myInputClasses]="'login-input'" [(value)]="user.username"></tatami-input>
                </div>
            </div>
            <div class="anim-fade-in delay-3">
                <div class="left-login"> {{t('password')}}</div>
                <div class="right-login">
                    <tatami-input [myInputClasses]="'login-input'" [type]="'password'" [(value)]="user.password">
                    </tatami-input>
                </div>
            </div>
        </div>
        <div class="login-buttons">
            <div class="anim-fade-in delay-4">
                <button class="btn btn-secondary login-btn" (click)="registration(true)">{{t('register')}}</button>
                <button class="btn btn-success login-btn" [disabled]="!isLoginEnabled()"
                    (click)="login()">{{t('login')}}
                </button>
            </div>
        </div>
        <div class="anim-fade-in delay-5">
            <div *ngFor="let errorMessage of loginErrorMessages" class="error-message">
                {{t(errorMessage)}}
            </div>
            <div *ngFor="let errorMessage of errorMessages" class="error-message" (click)="resetErrorMessage()">
                {{t(errorMessage)}}
            </div>
        </div>
        <div class="login-offline anim-fade-in delay-6">
            <button class="btn btn-light offline-btn" (click)="loginOffline()">{{t('startOffline')}}</button>
        </div>
    </ng-container>
    <ng-container *ngIf="isRegistration">
        <div class="blue-background">
            <div class="anim-fade-in delay-1">
                <div class="left-login"> {{t('ipAddress')}}:</div>
                <div class="right-login">
                    <input class="login-input" type="text" [(ngModel)]="ipAddress" />
                </div>
            </div>
            <div class="anim-fade-in delay-2">
                <div class="left-login"> {{t('username')}}:</div>
                <div class="right-login">
                    <input class="login-input" type="text" [(ngModel)]="user.username" />
                </div>
            </div>
            <div class="anim-fade-in delay-3">
                <div class="left-login"> {{t('password')}}:</div>
                <div class="right-login">
                    <input class="login-input" type="password" [(ngModel)]="user.password" />
                </div>
            </div>
            <div class="anim-fade-in delay-4">
                <div class="left-login"> {{t('confirmPassword')}}:</div>
                <div class="right-login">
                    <input class="login-input" type="password" [(ngModel)]="user.newPassword" />
                </div>
            </div>
            <div class="anim-fade-in delay-5">
                <div class="left-login"> {{t('email')}}:</div>
                <div class="right-login">
                    <input class="login-input" type="text" [(ngModel)]="user.email" />
                </div>
            </div>
            <div class="anim-fade-in delay-6">
                <div class="left-login"> {{t('nickname')}}:</div>
                <div class="right-login">
                    <input class="login-input" type="text" [(ngModel)]="user.nickname" />
                </div>
            </div>
        </div>
        <div class="login-buttons anim-fade-in delay-7">
            <button class="btn btn-secondary login-btn" (click)="registration(false)">{{t('backToLogin')}}</button>
            <button class="btn btn-success login-btn" [disabled]="!isRegistrationEnabled()"
                (click)="onRegistration()">{{t('register')}}
            </button>
        </div>
        <div class="anim-fade-in delay-8">
            <div *ngFor="let errorMessage of creationErrorMessages" class="error-message">
                {{t(errorMessage)}}
            </div>
            <div *ngFor="let errorMessage of errorMessages" class="error-message" (click)="resetErrorMessage()">
                {{t(errorMessage)}}
            </div>
        </div>
        <div class="login-offline anim-fade-in delay-9">
            <button class="btn btn-light offline-btn" (click)="loginOffline()">{{t('startOffline')}}</button>
        </div>
    </ng-container>
</div>
